#
#  Dynamically generated by Chef on <%= node["fqdn"] %>
#  Local modifications will be overwritten by Chef.
#
<?xml version="1.0" encoding="UTF-8"?>

<confluence-configuration>
  <setupStep>complete</setupStep>
  <setupType>custom</setupType>
  <buildNumber>3398</buildNumber>
  <properties>
    <property name="admin.ui.allow.daily.backup.custom.location">false</property>
    <property name="admin.ui.allow.manual.backup.download">false</property>
    <property name="admin.ui.allow.site.support.email">false</property>
    <property name="attachments.dir">${confluenceHome}/attachments</property>
    <property name="confluence.license.hash">nqPqxLJbRcGjJwhRoSORafpoPRrBdWvXvgDFurobUamWLomi2K5SvVlBqiDZEnuexEFSQv2KGWRbfFU79QbQ2JG8AsBj</property>
    <property name="confluence.license.message">nqMRntlvuGxKrNeLRmuQbHpEmiOuoXRUtGLFBrcTpsPrNlgDPNfqAFEpEqldgmfJMJNkuRmrOkcKtqKPvlMSLXsAfuNWNFDfnjRJvuLOTHhbjnRDxGmXvNLdCSVRjCOGDDiVWaNKrrUoDpnoaahqJgaTDvIcBjrGJBovoxPAVNTLEqcOejwPAhtHLPaLBGITLEmDQwDouqenBllQQEfOoBTkIxeevOAOdrwrJDRDbbErqXIjspUxXQDWBuJvAERvAiXjhilLmIJllkUpnSCkDECAFuQjGBE3mGyxhinsATcjgv0EYLaf5Q21BRsWfrY&gt;Yotuj8AuiqxpppQRSeS3UJOJaHdBs5YUWMH9A1s6rErQBEVQFw1N5E6PwvQZXWSaI1&gt;f848DGJutong0kC7qZvCd2XQGMsZFLy2NhoCU5ok0bKQ1M1nxeLP&gt;vC8TVEK&lt;u7pw8MR7cgU1o8jCRKAUisw4mMvHt7y6jjOE1Ne6JWbAlJMGTjU9DVsaAV4gpA7Y5ZJ9is7Vf3zOcN8LMjDkSGl&lt;&gt;nNUqlI2V7z2WK1B</property>
    <property name="confluence.setup.server.id">BD26-VSCX-15KV-0FWC</property>
    <property name="confluence.webapp.context.path"></property>
    <property name="hibernate.c3p0.acquire_increment">1</property>
    <property name="hibernate.c3p0.idle_test_period">100</property>
    <property name="hibernate.c3p0.max_size">30</property>
    <property name="hibernate.c3p0.max_statements">0</property>
    <property name="hibernate.c3p0.min_size">0</property>
    <property name="hibernate.c3p0.timeout">30</property>
    <% case @database['type'] -%>
    <% when "mysql" -%>
    <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
    <% when "postgresql" -%>
    <property name="hibernate.connection.driver_class">org.postgresql.Driver</property>
    <% end -%>
    <property name="hibernate.connection.isolation">2</property>
    <property name="hibernate.connection.password"><%= @database['password'] %></property>
    <% case @database['type'] -%>
    <% when "mysql" -%>
    <property name="hibernate.connection.url">jdbc:mysql://<%= @database['host'] == "localhost" ? node['mysql']['bind_address'] : @database['host'] %>:<%= @database['port'] %>/<%= @database['name'] %>?autoReconnect=true&characterEncoding=utf8&useUnicode=true&sessionVariables=storage_engine%3DInnoDB</property>
    <% when "postgresql" -%>
    <property name="hibernate.connection.url">jdbc:postgresql://<%= @database["host"] %>:<%= @database["port"] %>/<%= @database["name"] %></property>
    <% end -%>
    <property name="hibernate.connection.username"><%= @database['user'] %></property>
    <property name="hibernate.database.lower_non_ascii_supported">true</property>
    <% case @database['type'] -%>
    <% when "mysql" -%>
    <property name="hibernate.dialect">com.atlassian.hibernate.dialect.MySQLDialect</property>
    <% when "postgresql" -%>
    <property name="hibernate.dialect">com.atlassian.hibernate.dialect.PostgreSQLDialect</property>
    <% end -%>
    <property name="hibernate.setup">true</property>
    <property name="lucene.index.dir">${confluenceHome}/index</property>
    <property name="webwork.multipart.saveDir">${confluenceHome}/temp</property>
  </properties>
</confluence-configuration>
